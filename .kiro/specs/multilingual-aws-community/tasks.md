# 実装計画

- [ ] 1. プロジェクト基盤とインフラ構築
  - プロジェクトの基本構造を作成し、開発環境を整備する
  - Docker環境、GitHub設定、AWS基盤リソースを構築する
  - _要件: 6.1, 6.2, 6.3, 6.4, 6.5_

- [-] 1.1 プロジェクト構造とGitHub設定
  - フロントエンド（React/Next.js）とバックエンド（Node.js/Express）のプロジェクト構造を作成
  - GitHub リポジトリ設定、ブランチ戦略、プルリクエストテンプレートを設定
  - 3人でのチーム開発用のGitHub設定（コードレビュー、ブランチ保護）を実装
  - _要件: 6.1, 6.2, 6.3_

- [x] 1.2 Docker開発環境構築
  - バックエンド用Dockerfileとdocker-compose.ymlを作成
  - ローカル開発環境でのDynamoDB Local、Redis設定を実装
  - 開発用環境変数管理とシークレット管理を設定
  - _要件: 6.4, 6.5_

- [x] 1.3 AWS基盤インフラ構築
  - DynamoDBテーブル作成（Users, Categories, Posts, Replies, TranslationCache, Reactions）
  - S3バケット作成（画像ストレージ用）
  - Amazon Cognito設定（ユーザープール、アプリクライアント）
  - ECS Fargate クラスター、タスク定義、サービス設定
  - _要件: 1.1, 1.2, 1.3, 4.1, 4.6_

- [x] 1.4 AWS Secrets Manager・Parameter Store設定
  - AWS Secrets Managerでシークレット管理基盤を構築
  - データベース認証情報、APIキー、JWT署名キーをSecrets Managerに保存
  - AWS Systems Manager Parameter Storeで非機密設定値を管理
  - シークレット自動ローテーション設定を実装
  - _要件: 9.3_

- [ ] 2. 認証システム実装
  - Amazon Cognitoを使用したユーザー認証システムを実装する
  - SNSログイン（X、Instagram、LinkedIn）とメールアドレス認証に対応する
  - _要件: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 2.1 シークレット管理サービス実装
  - AWS Secrets Manager連携のSecretsServiceクラスを実装
  - AWS Systems Manager Parameter Store連携のParameterServiceクラスを実装
  - シークレット取得のキャッシュ機能とエラーハンドリングを実装
  - 環境別シークレット管理（開発・本番）を実装
  - _要件: 9.3_

- [ ] 2.2 バックエンド認証API実装
  - Node.js/ExpressでCognito連携の認証APIを実装
  - JWT トークン検証ミドルウェアを作成（Secrets Managerから署名キー取得）
  - ユーザー登録、ログイン、プロフィール取得・更新APIを実装
  - _要件: 1.1, 1.2, 1.3, 1.4, 9.1, 9.3_

- [ ] 2.3 SNSプロバイダー連携実装
  - Amazon CognitoでX（Twitter）、Instagram、LinkedInのOAuth設定（認証情報はSecrets Manager管理）
  - SNSログインフローのバックエンド処理を実装
  - SNSアカウント情報とローカルユーザー情報の連携処理を実装
  - _要件: 1.1, 1.3, 9.3_

- [ ] 2.4 フロントエンド認証UI実装
  - React/Next.jsでログイン・サインアップフォームを実装
  - SNSログインボタンとOAuthフローを実装
  - 認証状態管理（Context API または Zustand）を実装
  - _要件: 1.1, 1.2, 1.3, 1.4_

- [ ] 2.5 メールアドレス認証実装
  - Cognitoのメール認証フローを実装
  - 認証メール送信とメール内リンクでの認証確認を実装
  - 未認証ユーザーのアクセス制限を実装
  - _要件: 1.2, 1.5_

- [ ] 3. ユーザープロフィール機能実装
  - ユーザー情報の管理とプロフィール設定機能を実装する
  - AWS認定資格、専門分野、言語設定の管理機能を含む
  - _要件: 2.1, 2.2, 5.4, 5.5_

- [ ] 3.1 ユーザーモデルとDynamoDB操作実装
  - DynamoDB用のUserモデルクラスを実装
  - ユーザー情報のCRUD操作（作成、読み取り、更新、削除）を実装
  - ユーザー名、メールアドレスの一意性チェックを実装
  - _要件: 2.1, 2.2_

- [ ] 3.2 プロフィール設定API実装
  - ユーザープロフィール取得・更新APIを実装
  - AWS認定資格情報の管理APIを実装
  - 専門分野（AWSサービス）設定APIを実装
  - _要件: 5.4, 5.5_

- [ ] 3.3 プロフィール設定UI実装
  - React/Next.jsでユーザープロフィール表示・編集画面を実装
  - 言語設定UI（多言語対応の基盤）を実装
  - AWS認定資格、専門分野の設定UIを実装
  - _要件: 2.1, 2.2, 5.4, 5.5_

- [ ] 4. 多言語翻訳システム実装
  - Amazon Translateを使用した自動翻訳機能を実装する
  - 翻訳キャッシュ機能でパフォーマンスとコスト最適化を行う
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 4.1 翻訳サービス基盤実装
  - Amazon Translate連携のサービスクラスを実装
  - 言語検出機能と翻訳実行機能を実装
  - 翻訳エラーハンドリングと代替表示機能を実装
  - _要件: 2.3, 2.4, 2.5_

- [x] 4.2 翻訳キャッシュシステム実装
  - DynamoDB TranslationCacheテーブルの操作クラスを実装
  - コンテンツハッシュ生成と翻訳結果キャッシュ機能を実装
  - TTL機能による自動キャッシュ削除を実装
  - _要件: 2.3, 2.4_

- [x] 4.3 翻訳API実装
  - 翻訳リクエスト処理APIを実装
  - キャッシュ確認→翻訳実行→キャッシュ保存のフローを実装
  - バッチ翻訳機能（複数テキストの一括翻訳）を実装
  - _要件: 2.3, 2.4_

- [ ] 4.4 フロントエンド翻訳機能実装
  - React/Next.jsで翻訳機能のフックとコンポーネントを実装
  - ユーザー設定言語に基づく自動翻訳表示を実装
  - 翻訳中のローディング表示と翻訳不可時の代替表示を実装
  - _要件: 2.1, 2.2, 2.4, 2.5_

- [ ] 5. フォーラム基盤機能実装
  - カテゴリ管理と基本的な投稿・返信機能を実装する
  - DynamoDBを使用した効率的なデータ取得を行う
  - _要件: 3.1, 3.2, 3.3, 5.1, 5.2_

- [ ] 5.1 カテゴリ管理システム実装
  - DynamoDB Categoriesテーブルの操作クラスを実装
  - AWSサービス別カテゴリの作成・取得機能を実装
  - カテゴリ表示順序管理機能を実装
  - _要件: 3.1, 5.1, 5.2_

- [ ] 5.2 投稿モデルとCRUD操作実装
  - DynamoDB Postsテーブルの操作クラスを実装
  - 投稿作成、取得、更新、削除機能を実装
  - カテゴリ別・ユーザー別投稿取得機能を実装
  - _要件: 3.2, 3.3_

- [ ] 5.3 返信システム実装
  - DynamoDB Repliesテーブルの操作クラスを実装
  - 階層構造の返信作成・取得機能を実装
  - 投稿に対する返信一覧取得機能を実装
  - _要件: 3.3_

- [ ] 5.4 フォーラムAPI実装
  - カテゴリ一覧取得APIを実装
  - 投稿一覧取得（ページネーション対応）APIを実装
  - 投稿作成・更新・削除APIを実装
  - 返信作成・取得APIを実装
  - _要件: 3.1, 3.2, 3.3_

- [ ] 6. フォーラムUI実装
  - React/Next.jsでフォーラムの表示・操作UIを実装する
  - 投稿作成、返信、カテゴリ表示機能を含む
  - _要件: 3.1, 3.2, 3.3, 3.4_

- [ ] 6.1 フォーラム一覧・カテゴリ表示UI実装
  - カテゴリ別投稿一覧表示コンポーネントを実装
  - 投稿サマリー表示（タイトル、作成者、作成日時、返信数）を実装
  - ページネーション機能を実装
  - _要件: 3.1, 3.2_

- [ ] 6.2 投稿詳細・返信表示UI実装
  - 投稿詳細表示コンポーネントを実装
  - 階層構造の返信表示コンポーネントを実装
  - 投稿・返信の多言語翻訳表示を実装
  - _要件: 3.2, 3.3_

- [ ] 6.3 投稿作成・編集UI実装
  - 投稿作成フォームコンポーネントを実装
  - リッチテキストエディター（マークダウン対応）を実装
  - カテゴリ選択、タグ入力機能を実装
  - _要件: 3.2_

- [ ] 6.4 返信作成UI実装
  - 返信作成フォームコンポーネントを実装
  - 階層返信（返信への返信）機能を実装
  - リアルタイム返信表示機能を実装
  - _要件: 3.3_

- [ ] 7. 検索・リアクション機能実装
  - 投稿検索機能とリアクション（いいね、参考になった等）機能を実装する
  - DynamoDBでの効率的な検索とリアクション管理を行う
  - _要件: 3.4, 3.5_

- [ ] 7.1 検索機能実装
  - DynamoDBでのテキスト検索機能を実装
  - タイトル・本文・タグでの検索機能を実装
  - 検索結果のページネーション機能を実装
  - _要件: 3.4_

- [ ] 7.2 リアクションシステム実装
  - DynamoDB Reactionsテーブルの操作クラスを実装
  - いいね、参考になった、解決済み等のリアクション機能を実装
  - リアクション数の集計・表示機能を実装
  - _要件: 3.5_

- [ ] 7.3 検索・リアクションAPI実装
  - 投稿検索APIを実装
  - リアクション追加・削除APIを実装
  - リアクション数取得APIを実装
  - _要件: 3.4, 3.5_

- [ ] 7.4 検索・リアクションUI実装
  - 検索フォームと検索結果表示コンポーネントを実装
  - リアクションボタンとリアクション数表示コンポーネントを実装
  - ユーザーのリアクション状態表示機能を実装
  - _要件: 3.4, 3.5_

- [ ] 8. 画像アップロード機能実装
  - S3を使用した画像アップロード機能を実装する
  - 画像リサイズ、形式チェック、セキュリティ対策を含む
  - _要件: 4.1, 4.4, 4.5, 4.6, 4.7_

- [ ] 8.1 画像アップロードAPI実装
  - S3への画像アップロード機能を実装
  - 画像形式チェック（JPEG、PNG、GIF、WebP）を実装
  - 画像サイズ制限とリサイズ機能を実装
  - _要件: 4.1, 4.5, 4.6_

- [ ] 8.2 画像セキュリティ機能実装
  - アップロード画像のマルウェアスキャン機能を実装
  - 画像メタデータの削除機能を実装
  - 不正ファイルのアップロード拒否機能を実装
  - _要件: 4.6, 4.7, 9.2_

- [ ] 8.3 画像アップロードUI実装
  - React/Next.jsで画像アップロードコンポーネントを実装
  - ドラッグ&ドロップ機能を実装
  - アップロード進捗表示とエラーハンドリングを実装
  - _要件: 4.1, 4.4_

- [ ] 8.4 投稿・返信への画像添付機能実装
  - 投稿作成時の画像添付機能を実装
  - 返信作成時の画像添付機能を実装
  - 画像プレビュー表示機能を実装
  - _要件: 4.1, 4.4_

- [ ] 9. URLプレビュー機能実装
  - URLのメタデータ取得とプレビューカード表示機能を実装する
  - Open Graph Protocol対応とキャッシュ機能を含む
  - _要件: 4.2, 4.3, 4.4_

- [x] 9.1 URLメタデータ取得機能実装
  - URLからOpen Graphメタデータを取得する機能を実装
  - タイトル、説明、画像、サイト名の抽出機能を実装
  - メタデータ取得のエラーハンドリングを実装
  - _要件: 4.2, 4.3_

- [ ] 9.2 URLプレビューキャッシュ実装
  - URLプレビュー情報のキャッシュ機能を実装
  - キャッシュの有効期限管理を実装
  - キャッシュ更新機能を実装
  - _要件: 4.2, 4.3_

- [ ] 9.3 URLプレビューAPI実装
  - URLプレビュー生成APIを実装
  - プレビュー情報取得APIを実装
  - プレビュー生成の非同期処理を実装
  - _要件: 4.2, 4.3_

- [ ] 9.4 URLプレビューUI実装
  - URLプレビューカード表示コンポーネントを実装
  - 投稿・返信内のURL自動検出とプレビュー表示を実装
  - プレビュー読み込み中とエラー時の表示を実装
  - _要件: 4.2, 4.3, 4.4_

- [ ] 10. AWS特化機能実装
  - AWSサービス別カテゴリとタグ機能を実装する
  - AWS公式ドキュメントの特別プレビュー機能を含む
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 10.1 AWSサービスカテゴリ管理実装
  - AWSサービス別カテゴリの初期データ作成を実装
  - カテゴリ階層管理（サービス→機能別）を実装
  - カテゴリアイコン・色設定機能を実装
  - _要件: 5.1, 5.2_

- [ ] 10.2 AWSサービスタグ機能実装
  - 投稿へのAWSサービスタグ付け機能を実装
  - タグベースの投稿フィルタリング機能を実装
  - 人気タグ表示機能を実装
  - _要件: 5.2_

- [ ] 10.3 AWS公式ドキュメントプレビュー実装
  - AWS公式ドキュメントURL検出機能を実装
  - AWS公式ドキュメント専用プレビューカード生成を実装
  - AWSサービスアイコン表示機能を実装
  - _要件: 5.3_

- [ ] 10.4 AWS特化UI実装
  - AWSサービス別カテゴリ表示UIを実装
  - AWSサービスタグ選択・表示UIを実装
  - AWS公式ドキュメントプレビューカード表示UIを実装
  - _要件: 5.1, 5.2, 5.3_

- [ ] 11. 監視・ログ機能実装
  - CloudWatchを使用した基本的な監視とログ機能を実装する
  - エラー追跡とパフォーマンス監視を含む
  - _要件: 11.1, 11.2_

- [x] 11.1 ログ機能実装
  - 構造化ログ出力機能を実装
  - エラーログ、アクセスログ、パフォーマンスログを実装
  - CloudWatch Logsへのログ送信機能を実装
  - _要件: 11.1_

- [ ] 11.2 基本監視機能実装
  - CloudWatch メトリクス送信機能を実装
  - CPU、メモリ、ディスク使用量監視を実装
  - 重大エラー時のアラート通知機能を実装
  - _要件: 11.1_

- [ ] 11.3 ヘルスチェック機能実装
  - ECS Fargateサービスのヘルスチェック機能を実装
  - データベース接続チェック機能を実装
  - 外部サービス（Translate、S3）接続チェック機能を実装
  - _要件: 8.1_

- [ ] 12. テスト実装
  - ユニットテスト、統合テスト、E2Eテストを実装する
  - CI/CDパイプラインでの自動テスト実行を設定する
  - _要件: 全要件のテストカバレッジ確保_

- [ ] 12.1 バックエンドユニットテスト実装
  - Node.js/Expressコントローラーのユニットテストを実装
  - サービスクラスのユニットテストを実装
  - DynamoDB操作クラスのユニットテストを実装
  - _要件: 全バックエンド機能_

- [ ] 12.2 フロントエンドユニットテスト実装
  - Reactコンポーネントのユニットテストを実装
  - カスタムフックのユニットテストを実装
  - ユーティリティ関数のユニットテストを実装
  - _要件: 全フロントエンド機能_

- [ ] 12.3 統合テスト実装
  - API統合テストを実装
  - DynamoDB統合テストを実装
  - 外部サービス連携テスト（モック使用）を実装
  - _要件: 全API機能_

- [ ] 12.4 E2Eテスト実装
  - ユーザー登録〜投稿作成フローのE2Eテストを実装
  - 多言語翻訳機能のE2Eテストを実装
  - 画像アップロード機能のE2Eテストを実装
  - _要件: 主要ユーザーフロー_

- [ ] 13. デプロイメント・CI/CD実装
  - GitHub ActionsによるCI/CDパイプラインを実装する
  - ECS Fargateへの自動デプロイメントを設定する
  - _要件: 6.3, 6.4, 11.2_

- [ ] 13.1 CI/CDパイプライン実装
  - GitHub Actionsワークフローを実装
  - テスト自動実行、コードカバレッジ測定を実装
  - Docker イメージビルド・プッシュを実装
  - _要件: 6.3, 6.4_

- [ ] 13.2 ECS Fargateデプロイメント実装
  - ECS Fargateサービス更新の自動化を実装
  - ブルーグリーンデプロイメント設定を実装
  - デプロイメント失敗時のロールバック機能を実装
  - _要件: 11.2_

- [ ] 13.3 環境別設定管理実装
  - 開発・本番環境の設定分離を実装
  - AWS Systems Manager Parameter Storeでの設定管理を実装
  - 環境変数とシークレット管理を実装
  - _要件: 9.2_

- [ ] 14. パフォーマンス最適化・セキュリティ強化
  - システムのパフォーマンス最適化とセキュリティ強化を実装する
  - 本番運用に向けた最終調整を行う
  - _要件: 7.1, 7.2, 8.1, 9.1, 9.2_

- [ ] 14.1 パフォーマンス最適化実装
  - DynamoDBクエリ最適化を実装
  - 翻訳キャッシュ効率化を実装
  - 画像配信最適化（CloudFront設定）を実装
  - _要件: 7.1, 7.2_

- [ ] 14.2 セキュリティ強化実装
  - HTTPS/TLS設定強化を実装
  - CORS設定最適化を実装
  - レート制限機能を実装
  - _要件: 9.1, 9.2_

- [ ] 14.3 本番運用準備
  - 本番環境でのデータバックアップ設定を実装
  - 監視ダッシュボード設定を実装
  - 運用手順書作成を実装
  - _要件: 8.1, 8.2, 11.1_